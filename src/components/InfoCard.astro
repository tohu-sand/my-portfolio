---
import type { CollectionEntry } from "astro:content";
import { formatDateJP } from "../utils/date";

interface Props {
  entry: CollectionEntry<"info">;
}

const { entry } = Astro.props;
const { data } = entry;
const categoryLabel = data.category ? `#${data.category}` : "#Info";
const dateStr = formatDateJP(data.date);
---
<article class="group h-full rounded-xl border border-stone-200 dark:border-stone-700 bg-white dark:bg-stone-800 shadow transition-shadow hover:shadow-lg dark:shadow-stone-900/50 dark:hover:shadow-stone-900/70">
  <div class="flex h-full flex-col p-4">
    <h3 class="text-lg font-semibold text-stone-900 dark:text-stone-100">{data.title}</h3>

    <p class="mt-1 text-sm font-medium text-stone-600 dark:text-stone-400">{categoryLabel}</p>

    <p class="mt-1 text-sm text-stone-600 dark:text-stone-400">
      {dateStr}
      {data.location && ` ${data.location}`}
    </p>

    {data.description && <p class="mt-3 text-sm text-stone-700 dark:text-stone-300">{data.description}</p>}

    {data.url && (
      <a
        href={data.url}
        class="mt-auto pt-3 text-sm font-medium text-[color:var(--accent)] hover:text-[color:var(--accent-hover)] hover:underline"
        target="_blank"
        rel="noopener"
      >
        関連リンク
      </a>
    )}
  </div>
</article>
